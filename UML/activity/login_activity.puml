@startuml

(*) --> "User открывает страницу NWchat" as init
if "[Есть ли идентификатор \n пользователя?(cookies)]" then
  -left->[Yes] "Получить идентификатор \n пользователя"
  if "[проверка срока годности и \n идентичности с данными в БД]" then
    --> [Yes] "Показать домашнию страницу" as home
    --> (*)
    else
     -> [No] "Показать страницу
            входа в систему" as loginP
  endif
  else
    -->[No] loginP
   --> "User заполняет
    UserLogin и Password" as fills
   --> "User нажимает 'Log in'"
   --> "Сервер производит
    аутентификацию пользователя по
    UserLogin и Password"
   if "[Данные совпадают \n с данными в бд?]" then
    -->[Yes] home
   else
    -->[No] "Показать сообщение об ошибке"
    -->fills
endif
@enduml